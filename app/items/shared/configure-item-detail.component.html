<ActionBar class="action-bar">
    <!--HACK - we should remove the navigation button-->
    <NavigationButton visibility="collapsed"></NavigationButton>
    <NavigationButton android.systemIcon="ic_menu_back" (tap)="onBackButtonTap()"></NavigationButton>
    <Label class="action-bar-title" text="Configure Item Details" horizontalAlignment="center"></Label>
    <ActionItem ios.position="right" android.position="right">
        <Label text="Done" class="action-item" verticalAlignment="center" (tap)="onDoneButtonTap()"></Label>
    </ActionItem>
</ActionBar>

<GridLayout class="page page-content">
    <ScrollView>
        <StackLayout class="item-list">


          <ActivityIndicator [busy]="_isUpdating"></ActivityIndicator>

          <RadDataForm [height]="screenHeight" tkExampleTitle tkToggleNavButton [source]="item" [isReadOnly]="false" (propertyCommitted)="updateValidUnits($event)">

            <TKEntityProperty tkDataFormProperty name="Name" index=0>
                <TKPropertyEditor tkEntityPropertyEditor></TKPropertyEditor>
            </TKEntityProperty>
            <TKEntityProperty tkDataFormProperty name="Strain" displayName="Strain" [valuesProvider]="strains" index=1>
                <TKPropertyEditor tkEntityPropertyEditor type="Picker"></TKPropertyEditor>
            </TKEntityProperty>
            <TKEntityProperty tkDataFormProperty name="ItemCategory" displayName="Product Category" [valuesProvider]="itemCategories" index=2>
                <TKPropertyEditor tkEntityPropertyEditor type="Picker"></TKPropertyEditor>
            </TKEntityProperty>
            <TKEntityProperty tkDataFormProperty name="UnitOfMeasure" displayName="Product Sold In" [valuesProvider]="unitsOfMeasure" index=3>
                <TKPropertyEditor tkEntityPropertyEditor type="Picker"></TKPropertyEditor>
            </TKEntityProperty>

            <TKPropertyGroup tkDataFormGroups name="THC Potency" [hidden]="!thcRequired">
              <TKEntityProperty tkPropertyGroupProperties name="UnitThcContent" displayName="THC Content" index=4>
                  <TKPropertyEditor tkEntityPropertyEditor type="Decimal"></TKPropertyEditor>
              </TKEntityProperty>
            <TKEntityProperty tkPropertyGroupProperties name="UnitThcContentUnitOfMeasure" displayName="Units" [valuesProvider]="chemicalUnitsOfMeasure" index=5>
                <TKPropertyEditor tkEntityPropertyEditor type="Picker"></TKPropertyEditor>
            </TKEntityProperty>
            </TKPropertyGroup>

            <TKPropertyGroup tkDataFormGroups name="Product Volume" [hidden]="!volumeRequired">
              <TKEntityProperty tkPropertyGroupProperties name="UnitVolume" displayName="Volume" index=6>
                  <TKPropertyEditor tkEntityPropertyEditor type="Decimal"></TKPropertyEditor>
              </TKEntityProperty>
            <TKEntityProperty tkPropertyGroupProperties name="UnitVolumeUnitOfMeasure" displayName="Units" [valuesProvider]="volumeUnitsOfMeasure" index=7>
                <TKPropertyEditor tkEntityPropertyEditor type="Picker"></TKPropertyEditor>
            </TKEntityProperty>
            </TKPropertyGroup>

            <TKPropertyGroup tkDataFormGroups name="Product Weight" [hidden]="!weightRequired">
              <TKEntityProperty tkPropertyGroupProperties name="UnitWeight" displayName="Weight" index=8>
                  <TKPropertyEditor tkEntityPropertyEditor type="Decimal"></TKPropertyEditor>
              </TKEntityProperty>
            <TKEntityProperty tkPropertyGroupProperties name="UnitWeightUnitOfMeasure" displayName="Units" [valuesProvider]="chemicalUnitsOfMeasure" index=9>
                <TKPropertyEditor tkEntityPropertyEditor type="Picker"></TKPropertyEditor>
            </TKEntityProperty>
            </TKPropertyGroup>

            <TKPropertyGroup tkDataFormGroups name="Hidden" hidden="true">
                <TKEntityProperty tkPropertyGroupProperties name="Id"></TKEntityProperty>
            </TKPropertyGroup>

          </RadDataForm>

        </StackLayout>
    </ScrollView>
</GridLayout>
